# new-tab-sand

A simple falling sand simulation written in C and compiled to WebAssembly. This can be used as a new tab page in Google Chrome.

![Image of simulation](images/falling-sand.gif)

## Install

Download and unzip "dist.zip" from the latest release in this repository. Open [chrome://extensions/](chrome://extensions/) and turn on "Developer mode". Click the "Load unpacked" button at the top left of the screen and choose the downloaded folder. Note that this will only work in Chrome.

To run this project without loading it as a Chrome extension, open the "index.html" file from the downloaded folder. This will have to be done through a local server due to CORS policy.

## Usage

Press almost any key to make sand randomly fall from the top of the screen. When escape or backspace are pressed, around half of the sand will disappear. When the window is resized, the sand will adjust to match the new size.

## Building from source

Emscripten must be installed in order to compile this project. Run `make dist` to build the unpacked extension folder.

If you are editing any of the C files, it may be helpful to have a "compile_flags.txt" file so your language tools work correctly. This can be generated by running `make compile_flags.txt`.
